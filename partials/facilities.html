<h1>This is a message from the controller</h1>
{{message}}

<h2>List all facilites</h2>

<button ng-click="getFacilities()">Get facilities</button> <br />
<br />
<div ng-repeat="facility in data.organisationUnits">

    <div  ng-show="showFacilityHeader($index)" ng-click="selectFacility($index)"
         class="well well-lg">
            Name: {{facility.name}} <br />
    </div>

    <div ng-show="showExpandedFacility($index)" ng-click="deselectFacility()"
         class="well well-lg">
            Id:    {{facility.id}}   <br />
            Name:  {{facility.name}} <br />
            <button ng-click="editFacility()">Edit</button>
    </div>

    <div ng-show="showEditable($index)" class="well well-lg">
        Id:    {{facility.id}}   <br />
        Name:  <input ng-model="facility.name" type="text" value="{{facility.name}}" /> <br />

        <button ng-click="updateFacility(facility,$index)">Save</button> <button ng-click="selectFacility($index)">Cancel</button>
    </div>
</div>

<p>Write page</p>
<input type="text" ng-model="page"></input>
        <button ng-click="getFacilities()">Visit page</button>

<div ng-repeat="facility in data.organisationUnits">
        <span>ID: {{facility.id}} Name: {{facility.name}}</span>
</div>

	<h2>List all facilites</h2>
	
	<p>Write page</p>
	<input type="text" ng-model="page" ng-change="getFacilities()"></input>

<table id="searchResults">
  <tbody>
	<tr>
	    <th>Name</th><th>ID</th>
	</tr>
	<tr ng-repeat="facility in data.organisationUnits | filter:name">
	   <td><a href="{{ facility.href }}">{{ facility.name }}</a></td>
	   <td>{{Â facility.id }}</td>
	</tr>
  </tbody>
</table>